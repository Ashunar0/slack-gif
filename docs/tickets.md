# Slackスタンプ作成Webサイト 実装チケット

## 進捗サマリー

| フェーズ | 状態 |
|---------|------|
| Phase 1: プロジェクト基盤 | ✅ 完了 |
| Phase 2: UI基盤 | ⬜ 未着手 |
| Phase 3: テキストスタンプ | ⬜ 未着手 |
| Phase 4: 画像スタンプ | ⬜ 未着手 |
| Phase 5: GIFアニメーション | ⬜ 未着手 |
| Phase 6: ダウンロード機能 | ⬜ 未着手 |
| Phase 7: 仕上げ | ⬜ 未着手 |

---

## Phase 1: プロジェクト基盤

### 1-1. 依存パッケージの導入
- [x] Canvas操作ライブラリの選定・導入（konva, react-konva）
- [x] GIF生成ライブラリの導入（gifenc）
- [x] カラーピッカーライブラリの導入（react-colorful）
- [x] 画像クロップライブラリの導入（react-image-crop）
- [x] shadcn/ui導入・コンポーネント追加（button, input, select, slider, tabs, label, card, popover）

### 1-2. プロジェクト構成
- [x] ディレクトリ構成の整理（components, hooks, utils, types, constants）
- [x] 共通型定義ファイルの作成（types/index.ts）
- [x] 定数ファイルの作成（constants/fonts.ts, constants/animations.ts）

---

## Phase 2: UI基盤

### 2-1. レイアウト構築
- [ ] メインレイアウトコンポーネント作成
- [ ] ヘッダーコンポーネント作成
- [ ] 2カラムレイアウト（設定パネル + プレビュー）

### 2-2. 共通UIコンポーネント
- [ ] カラーピッカーコンポーネント
- [ ] スライダーコンポーネント
- [ ] セレクトボックスコンポーネント
- [ ] タブ切り替えコンポーネント（テキスト/画像モード）
- [ ] ボタンコンポーネント

### 2-3. プレビューエリア
- [ ] 128x128プレビューキャンバス
- [ ] リアルタイムプレビュー更新の仕組み

---

## Phase 3: テキストスタンプ機能

### 3-1. テキスト入力
- [ ] テキスト入力フォーム
- [ ] 複数行対応
- [ ] リアルタイムプレビュー連携

### 3-2. フォント設定
- [ ] Google Fonts読み込み設定
- [ ] 日本語対応フォント10種以上選定
- [ ] フォント選択UI
- [ ] フォントサイズ調整

### 3-3. 基本装飾
- [ ] 文字色選択
- [ ] 背景色選択（透明対応）
- [ ] 文字の縁取り（色・太さ）

### 3-4. 高度な装飾
- [ ] グラデーション設定（文字色）
- [ ] グラデーション設定（背景色）
- [ ] ドロップシャドウ設定
- [ ] 回転角度設定

### 3-5. キャンバス描画
- [ ] テキスト描画ロジック実装
- [ ] 装飾適用ロジック実装
- [ ] 自動フィット（テキスト長に応じたサイズ調整）

---

## Phase 4: 画像スタンプ機能

### 4-1. 画像アップロード
- [ ] ファイル選択UI
- [ ] ドラッグ&ドロップ対応
- [ ] 対応形式バリデーション（PNG, JPG, GIF, WebP）
- [ ] ファイルサイズ制限

### 4-2. 画像トリミング
- [ ] クロップUI実装
- [ ] アスペクト比固定（1:1）
- [ ] クロップ範囲プレビュー

### 4-3. 画像処理
- [ ] 128x128へのリサイズ処理
- [ ] キャンバスへの描画

---

## Phase 5: GIFアニメーション機能

### 5-1. アニメーション基盤
- [ ] アニメーションフレーム生成の仕組み
- [ ] GIFエンコード処理の実装
- [ ] アニメーションプレビュー機能

### 5-2. プリセット実装（基本）
- [ ] 点滅アニメーション
- [ ] バウンス（上下跳ね）アニメーション
- [ ] スライド（左右移動）アニメーション
- [ ] 回転アニメーション
- [ ] シェイク（横揺れ）アニメーション

### 5-3. プリセット実装（応用）
- [ ] フェードイン・アウト
- [ ] ズーム（拡大縮小）
- [ ] 揺れ（ゆらゆら）
- [ ] 虹色（色相変化）
- [ ] キラキラ（光エフェクト）

### 5-4. アニメーション設定UI
- [ ] プリセット選択UI
- [ ] 速度調整スライダー
- [ ] アニメーションなし（静止画）選択

---

## Phase 6: ダウンロード機能

### 6-1. PNG出力
- [ ] キャンバスからPNG生成
- [ ] ダウンロードトリガー実装
- [ ] ファイル名生成ロジック

### 6-2. GIF出力
- [ ] アニメーションフレームからGIF生成
- [ ] GIFダウンロード実装
- [ ] 生成中のローディング表示

### 6-3. ダウンロードUI
- [ ] ダウンロードボタン
- [ ] 形式選択（PNG/GIF）
- [ ] ダウンロード完了フィードバック

---

## Phase 7: 仕上げ

### 7-1. UX改善
- [ ] ローディング状態の表示
- [ ] エラーハンドリング・メッセージ表示
- [ ] 初期状態・空状態の表示

### 7-2. レスポンシブ対応
- [ ] タブレット対応
- [ ] モバイル対応（必要に応じて）

### 7-3. パフォーマンス
- [ ] 不要な再レンダリング防止
- [ ] 重い処理のデバウンス/スロットル

### 7-4. 最終確認
- [ ] 各ブラウザでの動作確認
- [ ] エッジケースのテスト
- [ ] コードクリーンアップ

---

## 備考

### 技術選定メモ
| 用途 | 候補ライブラリ |
|------|---------------|
| Canvas操作 | Konva.js / Fabric.js / 素のCanvas API |
| GIF生成 | gif.js / gifenc / modern-gif |
| 画像クロップ | react-image-crop / react-easy-crop |
| カラーピッカー | react-colorful / @uiw/react-color |

### 優先度について
- Phase 1〜3: 必須（テキストスタンプのみでMVP）
- Phase 4: 高（画像対応で機能充実）
- Phase 5: 高（GIFは必須要件）
- Phase 6: 必須（ダウンロードできないと意味がない）
- Phase 7: 中（品質向上）
